<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; style-src * 'self' 'unsafe-inline'; media-src *; img-src * 'self' data: content:;">
    <title>LightBrowser</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div id="browser">
        <div id="header">
            <div id="controls">
                <button id="back-btn" disabled>
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M20,11H7.83l5.59-5.59L12,4l-8,8l8,8l1.41-1.41L7.83,13H20V11z"/>
                    </svg>
                </button>
                <button id="forward-btn" disabled>
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M12,4l-1.41,1.41L16.17,11H4v2h12.17l-5.58,5.59L12,20l8-8L12,4z"/>
                    </svg>
                </button>
                <button id="refresh-btn">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M17.65,6.35C16.2,4.9 14.21,4 12,4c-4.42,0 -7.99,3.58 -7.99,8s3.57,8 7.99,8c3.73,0 6.84,-2.55 7.73,-6h-2.08c-0.82,2.33 -3.04,4 -5.65,4 -3.31,0 -6,-2.69 -6,-6s2.69,-6 6,-6c1.66,0 3.14,0.69 4.22,1.78L13,11h7V4l-2.35,2.35z"/>
                    </svg>
                </button>
                <button id="home-btn">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"/>
                    </svg>
                </button>
                <div id="url-bar-container">
                    <input type="text" id="url-bar" placeholder="Enter URL or search...">
                    <button id="go-btn">Go</button>
                </div>
                <button id="menu-btn">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M3,18h18v-2H3V18z M3,13h18v-2H3V13z M3,6v2h18V6H3z"/>
                    </svg>
                </button>
            </div>
        </div>
        <div id="content-area">
            <div id="loading-indicator">
                <div class="spinner"></div>
            </div>
            <iframe id="browser-frame" sandbox="allow-same-origin allow-scripts allow-forms allow-popups"></iframe>
            <div id="homepage" class="active">
                <div class="search-container">
                    <input type="text" id="search-box" placeholder="Search the web...">
                    <button id="search-btn">Search</button>
                </div>
                <div id="quick-links">
                    <!-- Bookmarks will be populated here -->
                </div>
            </div>
        </div>
        <div id="menu-panel" class="hidden">
            <div class="menu-item" id="bookmarks-btn">
                <i class="material-icons">bookmark</i>
                <span>Bookmarks</span>
            </div>
            <div class="menu-item" id="data-saver-btn">
                <i class="material-icons">data_usage</i>
                <span id="data-saver-status">Data Saver: Off</span>
            </div>
            <div class="menu-item" id="clear-data-btn">
                <i class="material-icons">delete_sweep</i>
                <span>Clear Browsing Data</span>
            </div>
            <div class="menu-item" id="settings-btn">
                <i class="material-icons">settings</i>
                <span>Settings</span>
            </div>
            <div class="menu-item" id="about-btn">
                <i class="material-icons">info_outline</i>
                <span>About</span>
            </div>
        </div>
        <div id="bookmarks-panel" class="panel hidden">
            <div class="panel-header">
                <h2>Bookmarks</h2>
                <button id="close-bookmarks" class="close-panel">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41z"/>
                    </svg>
                </button>
            </div>
            <div id="bookmarks-list">
                <!-- Bookmarks will be populated here -->
            </div>
        </div>
        <div id="settings-panel" class="panel hidden">
            <div class="panel-header">
                <h2>Settings</h2>
                <button id="close-settings" class="close-panel">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41z"/>
                    </svg>
                </button>
            </div>
            <div class="setting-item">
                <span>Search Engine</span>
                <select id="search-engine">
                    <option value="google">Google</option>
                    <option value="duckduckgo">DuckDuckGo</option>
                    <option value="bing">Bing</option>
                </select>
            </div>
            <div class="setting-item">
                <span>JavaScript</span>
                <label class="switch">
                    <input type="checkbox" id="js-enabled" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <span>Images</span>
                <label class="switch">
                    <input type="checkbox" id="images-enabled" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <span>Text Size</span>
                <select id="text-size">
                    <option value="small">Small</option>
                    <option value="medium" selected>Medium</option>
                    <option value="large">Large</option>
                </select>
            </div>
            <div class="setting-item">
                <span>Dark Mode</span>
                <label class="switch">
                    <input type="checkbox" id="dark-mode-toggle">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <span>Multi-Tab Mode</span>
                <label class="switch">
                    <input type="checkbox" id="multi-tab-toggle">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <button id="clear-cache">Clear Cache</button>
                <button id="clear-history">Clear History</button>
            </div>
        </div>
        <div id="about-panel" class="panel hidden">
            <div class="panel-header">
                <h2>About LightBrowser</h2>
                <button id="close-about" class="close-panel">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41z"/>
                    </svg>
                </button>
            </div>
            <div class="about-content">
                <p>LightBrowser v1.0</p>
                <p>A lightweight browser optimized for low-end devices.</p>
                <p>Features:</p>
                <ul>
                    <li>Data Saver Mode</li>
                    <li>Low Memory Usage</li>
                    <li>Fast Performance</li>
                    <li>Optimized for Android 5.0+</li>
                </ul>
                <div style="margin-top: 15px; padding: 10px; background-color: #FFF3CD; border-left: 4px solid #FFC107; border-radius: 4px;">
                    <p style="font-weight: bold; color: #856404;">⚠️ Important Warning:</p>
                    <p>This browser is purely made so that users can still browse important things on low-end devices. Many modern websites are not supported and may not function correctly. While some websites work surprisingly well, others may display errors or fail to load entirely.</p>
                </div>
                <p>Disclaimers:</p>
                <ul>
                    <li>Websites can drop support for this browser</li>
                    <li>Some websites cant load content</li>
                </ul>
            </div>
        </div>
        <div id="tabs-container" class="hidden">
            <div id="tabs-list"></div>
            <button id="new-tab-btn">+</button>
        </div>
    </div>
    <script type="module" src="js/config.js"></script>
    <script type="module" src="js/ui-controller.js"></script>
    <script type="module" src="js/tabs-manager.js"></script>
    <script type="module" src="js/app.js"></script>
</body>
</html>